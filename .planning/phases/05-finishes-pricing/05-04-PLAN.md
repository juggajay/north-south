---
phase: 05-finishes-pricing
plan: 04
type: execute
wave: 4
depends_on: ["05-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User sees real-time price updates as they configure"
    - "Price breakdown shows Cabinets, Material, Hardware, Door Profile"
    - "Hardware variance disclaimer (±5%) is visible"
    - "Site measure disclaimer is visible"
    - "All prices come from database (verified by cents values)"
---

<objective>
Human verification of the complete Finishes & Pricing implementation.

Purpose: Confirm that all pricing requirements from ROADMAP.md are met through manual testing of the live application. Verify prices update in real-time, variance disclaimers appear, and the user experience meets expectations.

Output: Verified pricing system ready for Phase 06 (Quote Submission).
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-finishes-pricing/05-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Start development server and verify build</name>
  <files>N/A</files>
  <action>
1. Ensure Convex dev server is running: `npx convex dev`
2. Start Next.js dev server: `npm run dev`
3. Verify no build errors
4. Navigate to http://localhost:3000
5. Log in (auth required for configurator)
6. Navigate to Design tab to access configurator
  </action>
  <verify>
App loads without errors
Configurator opens successfully
No console errors related to pricing or Convex queries
  </verify>
  <done>Development environment running, configurator accessible.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Finishes & Pricing system including:
- Database-driven pricing (all prices in cents)
- usePricing hook for centralized calculations
- PriceBreakdown component with category itemization
- PriceStickyBar showing live total
- Price display on all finish options
- Variance disclaimers (±5% hardware, site measure)
  </what-built>
  <how-to-verify>
**Test 1: Sticky Price Bar**
1. Open configurator (Design tab)
2. Verify sticky price bar appears at bottom showing "Estimated Total"
3. The total should update as you progress through steps

**Test 2: Step 1 (Dimensions) - Price Updates**
1. Adjust dimensions using sliders
2. Price total should NOT change (dimensions don't affect price)
3. Sticky bar should remain visible

**Test 3: Step 2 (Layout) - Module Pricing**
1. Click Next to go to Layout step
2. Tap an empty slot to open module picker
3. Select a module (e.g., Standard Base)
4. Verify sticky bar total increases
5. Add more modules - total should increase with each
6. Remove a module - total should decrease

**Test 4: Step 3 (Finishes) - Material/Hardware Prices**
1. Click Next to go to Finishes step
2. Verify Material tab shows prices below each swatch (e.g., "$89.00")
3. Select a material - verify sticky bar updates
4. Switch to Hardware tab
5. Verify each hardware option shows price with "±5%" indicator
6. Select hardware - verify sticky bar updates
7. Switch to Door Profile tab
8. Verify profiles show price per door (or "Included" for $0)
9. Select a profile - verify sticky bar updates

**Test 5: Step 4 (Review) - Full Breakdown**
1. Click Next to go to Review step
2. Verify PriceBreakdown component shows:
   - Cabinets (sum of module costs)
   - Material (selected material price)
   - Hardware (selected hardware price with ±5%)
   - Door Profile (price × number of modules)
   - Total
3. Verify variance disclaimer appears:
   - "This is an estimate only. Final price will be confirmed after site measure."
   - "Hardware pricing may vary ±$X.XX based on supplier availability."
4. Verify prices shown are in AUD format ($X,XXX.XX)

**Test 6: Real-time Updates**
1. Go back to Step 2 (Layout)
2. Add another module
3. Click through to Review
4. Verify all prices updated correctly
5. Total should reflect new module

**Test 7: Database Values (Developer Check)**
1. Open browser DevTools Network tab
2. Look for Convex queries for materials, hardware, doorProfiles
3. Verify response data shows prices in cents (e.g., 8900 not 89)
4. Formatted display should show dollars ($89.00)

**Requirements Checklist (from ROADMAP.md):**
- [ ] FIN-001: Swipeable cards layout (Material → Hardware → Profile) - tabs work
- [ ] FIN-002: Material selection with swatches, prices visible
- [ ] FIN-003: Hardware selection with price and variance
- [ ] FIN-004: Door profile selection with price per door
- [ ] FIN-005: 3D viewport updates materials live (existing from Phase 04)
- [ ] REV-001: Price breakdown displayed (Cabinets · Material · Hardware)
- [ ] REV-002: Configuration summary shown
- [ ] REV-003: Edit links per section (step indicator works)
- [ ] PRICE-D01: Live total in sticky bar
- [ ] PRICE-D02: Category breakdown visible
- [ ] PRICE-D03: Exact prices with disclaimer
- [ ] PRICE-D04: All prices from database (cents storage)
- [ ] PRICE-006: ±5% supplier variance disclaimer visible
  </how-to-verify>
  <resume-signal>
Type "approved" if all tests pass.
If issues found, describe what failed and I will create fix tasks.
  </resume-signal>
</task>

</tasks>

<verification>
All pricing requirements from Phase 05 ROADMAP verified by human testing.
</verification>

<success_criteria>
- [ ] Sticky price bar visible and updating live
- [ ] Prices shown on all finish options (material, hardware, door profile)
- [ ] Price breakdown shows all categories
- [ ] Variance disclaimer (±5%) visible
- [ ] Site measure disclaimer visible
- [ ] All prices formatted correctly (AUD)
- [ ] Database contains cents values (verified in DevTools)
- [ ] User approves the implementation
</success_criteria>

<output>
After completion, create `.planning/phases/05-finishes-pricing/05-04-SUMMARY.md`
</output>
