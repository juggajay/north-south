---
phase: 02-mobile-ui-shell
plan: 06
type: execute
wave: 3
depends_on: ["02-02", "02-04", "02-05"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Four-tab navigation functional on all platforms"
    - "Camera opens as primary entry point"
    - "User can capture photo or select from gallery"
    - "Poor quality photos rejected with helpful message"
    - "Chat responds with product knowledge"
    - "All modals use bottom sheet pattern"
    - "Touch targets meet 44x44px minimum"
---

<objective>
Human verification of the complete Mobile UI Shell phase.

Purpose: Ensure all mobile UI components work correctly across the capture, chat, and navigation flows before marking phase complete.

Output: Verified working mobile shell ready for AI pipeline integration in Phase 03.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-mobile-ui-shell/02-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete Mobile UI Shell including:
    - Bottom tab navigation with badge indicators
    - Camera capture interface with guidance overlay
    - Press-and-hold shutter button
    - Image quality validation (blur/brightness)
    - Photo preview with Use/Retake flow
    - AI chat with Gemini (product knowledge)
    - Tab empty states (Home, Design, Orders)
  </what-built>
  <how-to-verify>
    Start the development server:
    ```bash
    npm run dev
    ```

    **1. Tab Navigation (NAV-001 to NAV-004)**
    - [ ] Visit http://localhost:3000
    - [ ] All 4 tabs visible: Home, Design, Orders, Chat
    - [ ] Each tab navigates correctly
    - [ ] Active tab highlighted
    - [ ] Touch targets feel adequately sized (44x44px+)

    **2. Home Tab Empty State**
    - [ ] Welcome message displayed
    - [ ] "Take Photo" button prominent and thumb-friendly
    - [ ] Camera icon visible

    **3. Design Tab Empty State**
    - [ ] "No designs yet" message
    - [ ] Illustration/icon present
    - [ ] "Take a photo to start creating" guidance

    **4. Orders Tab Empty State**
    - [ ] "No orders yet" message
    - [ ] "Submit a design to get a quote" guidance

    **5. Camera Capture (CAM-001 to CAM-005)**
    - [ ] Click "Take Photo" on Home tab
    - [ ] Full-screen camera UI opens
    - [ ] Corner bracket guidance visible
    - [ ] Tips rotate at bottom ("Stand back...", etc.)
    - [ ] Gallery button visible
    - [ ] Press-and-hold: tap briefly - nothing happens
    - [ ] Press-and-hold: hold for 1 second - photo captures
    - [ ] Progress ring animates during hold

    **6. Photo Preview & Quality Validation**
    - [ ] After capture, preview screen shows
    - [ ] "Checking quality..." loading state visible
    - [ ] Good photo: "Photo looks great!" + Use Photo / Retake buttons
    - [ ] Test poor photo (cover camera or capture in dark): rejection message with tip
    - [ ] Poor photo: Only "Retake" available (strict rejection)
    - [ ] "Use Photo" returns to home (console.log visible in dev tools)

    **7. Gallery Selection**
    - [ ] Click gallery button in camera view
    - [ ] Photo picker opens
    - [ ] Selected photo goes to preview flow
    - [ ] Quality validation applies to gallery photos too

    **8. AI Chat (CHAT-001 to CHAT-004)**
    - [ ] Navigate to Chat tab
    - [ ] Empty state/welcome message visible
    - [ ] Type: "What Polytec finishes do you recommend for kitchens?"
    - [ ] Send message
    - [ ] Typing indicator appears
    - [ ] Response arrives with tradesperson personality
    - [ ] Test off-topic: "What's the weather today?"
    - [ ] Response: "I can only help with joinery and materials..."

    **9. Chat Persistence**
    - [ ] Refresh the page
    - [ ] Previous conversation still visible
    - [ ] Can continue conversation

    **10. Unread Badge**
    - [ ] Navigate away from Chat tab
    - [ ] If new message arrives (simulate via Convex dashboard if needed)
    - [ ] Red dot appears on Chat tab
    - [ ] Navigate to Chat - dot disappears

    **Mobile Testing (if device available)**
    - [ ] Test on actual mobile device or responsive mode
    - [ ] Touch interactions feel natural
    - [ ] Keyboard doesn't obscure chat input
    - [ ] Safe area padding working (iPhone notch/home indicator)
  </how-to-verify>
  <resume-signal>
    Type "approved" if all checks pass.
    If issues found, describe them and I will create fix tasks.
  </resume-signal>
</task>

</tasks>

<verification>
All phase requirements verified by human testing.
</verification>

<success_criteria>
- All verification checkboxes pass
- User approves the implementation
- No critical issues blocking Phase 03
</success_criteria>

<output>
After completion, create `.planning/phases/02-mobile-ui-shell/02-06-SUMMARY.md`
</output>
